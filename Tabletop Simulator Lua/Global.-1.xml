<!-- Xml UI. See documentation: https://api.tabletopsimulator.com/ui/introUI/ -->
<Defaults>
  <Button color="#828282"/>
  <Button class="ini" color="rgba(0, 0, 0, 0.95)" textColor="rgb(1, 1, 1)" fontSize="16"/>
  <Button class="adjust"
    textColor="rgb(1, 1, 1)"
    fontSize="24"
    fontStyle="Bold"
    padding="5 5 5 5"
    preferredWidth="28"
    preferredHeight="28"
    flexibleWidth="0"
    onClick="adjustParam"/>
  <Text fontSize="16" color="rgb(1, 1, 1)" flexibleWidth="1"/>
  <Text class="tgl" fontStyle="Bold" fontSize="32" color="rgb(0.8,0.8,0.8)" />
  <ToggleButton
    class="die"
    fontStyle="Bold"
    fontSize="20"
    text="X"
    preferredHeight="40"
    preferredWidth="40"
    onValueChanged="toggleDice"
    isOn="true"
    />
  <Cell class="tgl" childForceExpandWidth="false" childForceExpandHeight="false"/>
  <Row class="tgl" preferredHeight="50"/>
  <Image preserveAspect="true"/>

</Defaults>

<Button id="showCalc"
  class="ini"
  onClick="showCalc"
  width="125"
  height="50"
  text="DMG Calc &#x25BC;"
  rectAlignment="UpperRight"
  offsetXY="0 -100">
</Button>

<VerticalLayout id="calculator"
  padding="0 0 0 0"
  spacing="15"
  rectAlignment="UpperRight"
  offsetXY="0 -160"
  height="800"
  width="160"
  color="clear"
  childForceExpandHeight="false"
  active="false"
  >

  <TableLayout id="dice"
    cellSpacing="10"
    padding = "6 6 6 6"
    color="rgba(0, 0, 0, 0.95)"
    cellBackgroundColor="clear"
    autoCalculateHeight="true">

    <!-- Row 1 -->
    <Row class="tgl">
        <Cell class="tgl"><ToggleButton class="die" color="red" id="red">
          <Image id="redImage">
            <Text id="redText" class="tgl"/>
          </Image>
        </ToggleButton></Cell>
        <Cell class="tgl"><ToggleButton class="die" color="green" id="green1">
          <Image id="green1Image">
            <Text id="green1Text" class="tgl"/>
          </Image>
        </ToggleButton></Cell>
        <Cell class="tgl"><ToggleButton class="die" color="blue" id="blue1">
          <Image id="blue1Image">
            <Text id="blue1Text" class="tgl"/>
          </Image>
        </ToggleButton></Cell>
    </Row>
    <!-- Row 2 -->
    <Row class="tgl">
        <Cell class="tgl"><ToggleButton class="die" color="yellow" id="yellow">
          <Image id="yellowImage">
            <Text id="yellowText" class="tgl"/>
          </Image>
        </ToggleButton></Cell>
        <Cell class="tgl"><ToggleButton class="die" color="green" id="green2">
          <Image id="green2Image">
            <Text id="green2Text" class="tgl"/>
          </Image>
        </ToggleButton></Cell>
        <Cell class="tgl"><ToggleButton class="die" color="blue" id="blue2">
          <Image id="blue2Image">
            <Text id="blue2Text" class="tgl"/>
          </Image>
        </ToggleButton></Cell>
    </Row>
  </TableLayout>

  <VerticalLayout
    preferredHeight="100"
    childForceExpandHeight="false"
    flexibleHeight="0"
    color="rgba(0, 0, 0, 0.95)">
    <Text preferredHeight="50">Distance (melee is 0)</Text>
    <HorizontalLayout preferredHeight="50"
      childForceExpandWidth="false">
      <Button class="adjust" id="distance-">-</Button>
      <Text fontSize="30" color="red" id="distance">melee</Text>
      <Button class="adjust" id="distance+">+</Button>

    </HorizontalLayout>
  </VerticalLayout>

  <VerticalLayout
    preferredHeight="100"
    childForceExpandHeight="false"
    flexibleHeight="0"
    color="rgba(0, 0, 0, 0.95)">
    <Text preferredHeight="50">Target armor</Text>
    <HorizontalLayout preferredHeight="50"
      childForceExpandWidth="false">
      <Button class="adjust" id="armor-">-</Button>
      <Text fontSize="30" id="armor">1</Text>
      <Button class="adjust" id="armor+">+</Button>

    </HorizontalLayout>
  </VerticalLayout>

  <VerticalLayout
    preferredHeight="100"
    childForceExpandHeight="false"
    flexibleHeight="0"
    color="rgba(0, 0, 0, 0.95)">
    <Text preferredHeight="50">Accuracy bonus</Text>
    <HorizontalLayout preferredHeight="50"
      childForceExpandWidth="false">
      <Button class="adjust" id="accuracy-">-</Button>
      <Text fontSize="32" id="accuracy">0</Text>
      <Button class="adjust" id="accuracy+">+</Button>

    </HorizontalLayout>
  </VerticalLayout>

  <VerticalLayout
    preferredHeight="100"
    childForceExpandHeight="false"
    flexibleHeight="0"
    color="rgba(0, 0, 0, 0.95)">
    <Text preferredHeight="50">Deadly bonus</Text>
    <HorizontalLayout preferredHeight="50"
      childForceExpandWidth="false">
      <Button class="adjust" id="deadly-">-</Button>
      <Text fontSize="32" id="deadly">0</Text>
      <Button class="adjust" id="deadly+">+</Button>

    </HorizontalLayout>
  </VerticalLayout>

  <Button id="calculate"
    class="ini"
    onClick="calculate"
    preferredHeight="50">
    Calculate
  </Button>

  <Button id="rollDice"
    class="ini"
    onClick="rollDice"
    preferredHeight="50">
    Roll
  </Button>

  <Button id="clearPrm"
    class="ini"
    onClick="clearCalc"
    preferredHeight="50">
    Clear
  </Button>
</VerticalLayout>

<VerticalLayout
  id="stats"
  padding="10 10 10 10"
  rectAlignment="UpperRight"
  offsetXY="-180 -160"
  height="800"
  width="600"
  color="rgba(0, 0, 0, 0.95)"
  active="false"
  childForceExpandWidth="true"
  childForceExpandHeight="false">

  <TableLayout id="stats"
    padding="20 20 20 20"
    color="clear"

    rectAlignment="UpperRight"
    columnWidths="80 450"
    childForceExpandWidth="true"
    flexibleHeight = "1"
    >

    <Row>
        <Cell><Text>Ammo</Text></Cell>
        <Cell><ProgressBar id="ammoPb"></ProgressBar></Cell>
    </Row>

    <Row preferredHeight="16"> </Row>

    <Row>
        <Cell><Text>Miss</Text></Cell>
        <Cell><ProgressBar id="missPb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="0t">0dmg</Text></Cell>
        <Cell><ProgressBar id="0Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="1t">1dmg</Text></Cell>
        <Cell><ProgressBar id="1Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="2t">2dmg</Text></Cell>
        <Cell><ProgressBar id="2Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="3t">3dmg</Text></Cell>
        <Cell><ProgressBar id="3Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="4t">4dmg</Text></Cell>
        <Cell><ProgressBar id="4Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="5t">5dmg</Text></Cell>
        <Cell><ProgressBar id="5Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="6t">6dmg</Text></Cell>
        <Cell><ProgressBar id="6Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="7t">7dmg</Text></Cell>
        <Cell><ProgressBar id="7Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="8t">8dmg</Text></Cell>
        <Cell><ProgressBar id="8Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="9t">9dmg</Text></Cell>
        <Cell><ProgressBar id="9Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="10t">10dmg</Text></Cell>
        <Cell><ProgressBar id="10Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="11t">11dmg</Text></Cell>
        <Cell><ProgressBar id="11Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="12t">12dmg</Text></Cell>
        <Cell><ProgressBar id="12Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="13t">13dmg</Text></Cell>
        <Cell><ProgressBar id="13Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="14t">14dmg</Text></Cell>
        <Cell><ProgressBar id="14Pb"></ProgressBar></Cell>
    </Row>
    <Row>
        <Cell><Text id="15t">15dmg</Text></Cell>
        <Cell><ProgressBar id="15Pb"></ProgressBar></Cell>
    </Row>
  </TableLayout>

  <HorizontalLayout
    preferredHeight="80"
    childForceExpandWidth="false"
    childAlignment="UpperCenter"
    spacing="20"
    flexibleHeight = "0">

    <Button id="statsMode"
      onClick="toggleStatsMode"
      preferredHeight="50"
      preferredWidth="75">
      Mode
    </Button>

    <Button id="statsClose"
      onClick="statsClose"
      preferredHeight="50"
      preferredWidth="75">
      Close
    </Button>

  </HorizontalLayout>
</VerticalLayout>